{ "name": "Events",
  "memberOf": "wix-paid-plans-backend",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 16,
      "filename": "events.js" },
  "docs":
    { "summary": "Events that are fired by actions relating to paid plans.",
      "description":
        [ "Wix paid plan events are fired on your site's backend when certain events occur related to site paid plans.",
          " You can write event handlers that react to these events. Event handler functions",
          " receive data that corresponds to the event that fired. Use event handlers",
          " to create custom responses to paid plan events.",
          "",
          " To add a paid plan event handler, add an **events.js** file to the **Backend** section",
          " of your site if one does not already exist. All event handler functions for your",
          " site are defined in this file.",
          "",
          " Event handler functions are defined using the following pattern:",
          "",
          " ```javascript",
          " export function <wixAppName>_<eventName>(event) { }",
          " ```",
          "",
          " For example, an event handler that handles paid plan purchases looks",
          " like this:",
          "",
          " ```javascript",
          " export function wixPaidPlans_onPlanPurchased(event) { }",
          " ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "onPlanPurchased",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "wix-paid-plans-backend.Events.PlanPurchasedEvent",
              "doc": "The purchase data." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 43,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An event that fires when a user purchases a plan.",
            "description":
              [ "The `onPlanPurchased()` event handler runs when a user purchases a paid plan. ",
                " The received [`PlanPurchasedEvent`](#PlanPurchasedEvent)",
                " object contains order information about the plan, such as order ID, and",
                " until when the order is valid, and so on." ],
            "links": [],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Order",
        "locations":
          [ { "lineno": 80,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An object representing a new paid plan order.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "Order ID of the purchase of the plan, auto-generated when an order is created." },
            { "name": "paymentStatus",
              "type": "string",
              "doc": "Status of the payment for the plan, such as `PAID`." },
            { "name": "price",
              "type": "wix-paid-plans-backend.Events.Price",
              "doc": "Object containing the price of the plan." },
            { "name": "cancellationReason",
              "type": "string",
              "doc": "If plan is cancelled, the reason why. If plan is not cancelled, `CANCELLATION_REASON_UNDEFINED`." },
            { "name": "validFrom",
              "type": "Date",
              "doc": "Date and time from which the plan is valid." },
            { "name": "planName",
              "type": "string",
              "doc": "Name of the plan." },
            { "name": "cashierOrderId",
              "type": "string",
              "doc": "ID of the plan for cashier. If plan is free, this ID is blank." },
            { "name": "recurring",
              "type": "boolean",
              "doc": "If the plan is recurring. If true, the price is deducted weekly, monthly, or yearly." },
            { "name": "dateCreated",
              "type": "Date",
              "doc": "Date and time the order was created." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the plan, such as `ACTIVE`." },
            { "name": "roleID",
              "type": "string",
              "doc": "Role assigned after purchasing the plan." },
            { "name": "planDescription",
              "type": "string",
              "doc": "Description of the plan." },
            { "name": "memberId",
              "type": "string",
              "doc": "ID for the visitor who purchased the plan." },
            { "name": "orderType",
              "type": "string",
              "doc": "How the plan was purchased, such as `ONLINE`." },
            { "name": "planId",
              "type": "string",
              "doc": "ID of the plan." },
            { "name": "validFor",
              "type": "wix-paid-plans-backend.Events.ValidFor",
              "doc": "Object containing properties about how long the plan is valid." } ],
        "extra":
          {  },
        "labels":
          [ "new" ] },
      { "name": "Period",
        "locations":
          [ { "lineno": 147,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An object representing the period for which a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "amount",
              "type": "number",
              "doc": "The number of units until the plan expires." },
            { "name": "unit",
              "type": "string",
              "doc": "Time period for billing the plan, such as `MONTH`." } ],
        "extra":
          {  },
        "labels":
          [ "changed" ] },
      { "name": "PlanPurchasedEvent",
        "locations":
          [ { "lineno": 64,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An object representing a new paid plan purchase.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "price",
              "type": "wix-paid-plans-backend.Events.Order",
              "doc": "Object containing the order details of the plan." } ],
        "extra":
          {  },
        "labels":
          [ "changed" ] },
      { "name": "Price",
        "locations":
          [ { "lineno": 111,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An object representing the price of a purchased plan.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "currency",
              "type": "string",
              "doc": "Currency of the price, such as `USD` for US Dollars. All country currency codes are supported." },
            { "name": "amount",
              "type": "number",
              "doc": "The cost of the plan." } ],
        "extra":
          {  },
        "labels":
          [ "changed" ] },
      { "name": "ValidFor",
        "locations":
          [ { "lineno": 129,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An object representing how long a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a paid plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "//  ",
                      "",
                      "// For getting data about a paid plan:",
                      "import wixData from 'wix-data';",
                      "// For working with paid plans:",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the purchased transaction and",
                      "  // the event's order object (json) into ",
                      "  // the collection's Data field.",
                      "\tlet data = {",
                      "    \"title\": \"purchased\",",
                      "    \"data\": event.order",
                      "  };",
                      "  wixData.insert(\"planEvents\", data);",
                      "}",
                      "",
                      "/*  Event object for a free, one-month trial purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `cashierOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*   The period is set to one month.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      "*/",
                      "",
                      "/*  Event object for a purchase that never expires:",
                      "*",
                      "*   When the purchase never expires, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "* {  ",
                      "*   \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"cashierOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"fdfdgdsg\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*}",
                      "*",
                      " */" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field. \n\n When a plan is purchased and the onPlanPurchased event is triggerred, \n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "forever",
              "type": "boolean",
              "doc": "If true, the plan does not expire." },
            { "name": "period",
              "type": "wix-paid-plans-backend.Events.Period",
              "doc": "Object containing the period for which the plan is valid." } ],
        "extra":
          {  },
        "labels":
          [ "changed" ] } ],
  "extra":
    {  } }