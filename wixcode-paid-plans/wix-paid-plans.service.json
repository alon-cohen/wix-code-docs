{ "name": "wix-paid-plans",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "filename": "paid-plans.js",
      "lineno": 5 },
  "docs":
    { "summary": "The wix-paid-plans module contains functionality for working with\n paid plans from client-side code.",
      "description":
        [ "To process paid plans on your site, first set up your site to offer paid plans",
          " as described in <a href=\"https://support.wix.com/en/article/about-paid-plans\" target=\"_blank\">About Paid Plans</a>.",
          " When setting up your site to accept paid plans, be sure to <a href=\"https://support.wix.com/en/article/creating-a-plan-in-paid-plans\" target=\"_blank\"> defne the plans you want to offer</a>,",
          " including the payment method.",
          " You can then retrieve information about paid plans, purchase a plan, and order a plan for",
          " future purchase (such as after a visitor enters payment information).",
          "",
          " <h3 id=\"paid-plan-lifecycle\">Typical Paid Plan Lifecycle</h3>",
          "",
          " This typical paid plan lifecycle can be implemented using the purchasePlan function.",
          " purchasePlan lets users buy plans in one direct flow by letting the user both order a plan",
          " and pay for the plan.",
          "",
          " The following outlines the steps taken in a typical paid plan lifecycle:",
          "",
          " 1. A site visitor clicks a button to choose a membership plan.",
          " 1. The button's event handler calls a function to handle the selection of the plan.",
          " 1. If not logged in, the site visitor is prompted to do so.",
          "    * If the plan is free, the plan is immediately ordered by calling createOrder() and \"purchased\" using the Wix Pay API.",
          "    * If the plan is not free, and the site visitor already has entered payment information,",
          "      the plan is immediately ordered by calling createOrder() and purchased using the Wix Pay API.",
          "    * If the plan is not free, and the site visitor has not yet entered payment information,",
          "      the site visitor waits for a confirmation email.",
          "",
          "",
          "",
          " <h3 id=\"paid-plan-customize\">Customized Paid Plan Lifecycle</h3>",
          "",
          " Customized paid plan lifecycles can be implemented using the createOrder() function and the Pay API.",
          " createOrder() lets visitors order plans by placing the orders in a database with pending status. You",
          " can then customize the site visitors' experience before they actually pay for the plan. After the site visitor",
          " pays for the plan, the status in the database changes to paid.",
          "",
          " The following outlines the steps for customizing the paid plan lifecycle:",
          "",
          " 1. A site visitor clicks a button to choose a membership plan.",
          " 1. The button's event handler calls the createOrder() function to handle the initial order of a plan.",
          "    If the plan is free, the plan is ordered for immediate purchase.",
          " 1. You create and customize a series of elements for continuing the purchase, such as light boxes,",
          "    forms, and so on. The site visitor enters payment information using these elements.",
          " 1. Use the Wix Pay API to accept payments and purchase the plan.",
          "",
          "",
          "",
          " To use the Paid Plans API, import `wixPaidPlans` from the `wix-paid-plans` module:",
          "",
          "   ```javascript",
          "   import wixPaidPlans from 'wix-paid-plans';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "createOrder",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-paid-plans.OrderResult" ] },
            "doc": "Fulfilled - The created order." },
        "locations":
          [ { "filename": "paid-plans.js",
              "lineno": 116 } ],
        "docs":
          { "summary": "Orders a paid plan.",
            "description":
              [ "To process paid plans on your site, first set up your site to offer paid plans",
                " as described in <a href=\"https://support.wix.com/en/article/about-paid-plans\" target=\"_blank\">About Paid Plans</a>.",
                " When setting up your site to accept paid plans, be sure to <a href=\"https://support.wix.com/en/article/creating-a-plan-in-paid-plans\" target=\"_blank\"> defne the plans you want to offer</a>,",
                " including the payment method.",
                "",
                " The `createOrder()` function returns a Promise that resolves to an [`OrderResult`](wix-paid-plans.html#OrderResult)",
                " object when the user completes the order process. Use this result only for display purposes.",
                "",
                " Ordering a plan places an order for the plan, without actually purchasing it. You can then continue the",
                " payment process with the Wix Pay API.",
                "",
                " To understand how `createOrder()` is used in a customized paid plan lifecycle,",
                " see [Customized Paid Plan Lifecycle](wix-paid-plans.html#paid-plan-customize)." ],
            "links": [],
            "examples":
              [ { "title": "Order a paid plan",
                  "body":
                    [ "import wixPay from 'wix-pay';",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "export function myOrderButton_click(event, $w) {",
                      "  wixPaidPlans.createOrder(planId)",
                      "    .then(myOrder => {",
                      "    let  myCashierOrderId = myOrder.body.cashierOrderId;",
                      "    let  myOrderId = myOrder.body.orderId;",
                      "    let  myStatus = myOrder.status;",
                      "    } );",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "To work with the Paid Plans API, you need to save and publish your site." ] } },
      { "name": "orderPlan",
        "labels":
          [ "removed" ],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-paid-plans.OrderResult" ] },
            "doc": "Fulfilled - The created order." },
        "locations":
          [ { "filename": "paid-plans.js",
              "lineno": 116 } ],
        "docs":
          { "summary": "Orders a paid plan.",
            "description":
              [ "To process paid plans on your site, first set up your site to offer paid plans",
                " as described in <a href=\"https://support.wix.com/en/article/about-paid-plans\" target=\"_blank\">About Paid Plans</a>.",
                " When setting up your site to accept paid plans, be sure to <a href=\"https://support.wix.com/en/article/creating-a-plan-in-paid-plans\" target=\"_blank\"> defne the plans you want to offer</a>,",
                " including the payment method.",
                "",
                " The `orderPlan()` function returns a Promise that resolves to an [`OrderResult`](wix-paid-plans.html#OrderResult)",
                " object when the user completes the order process. Use this result only for display purposes.",
                "",
                " Ordering a plan places an order for the plan, without actually purchasing it. You can then continue the",
                " payment process with the Wix Pay API.",
                "",
                " To understand how `orderPlan()` is used in a customized paid plan lifecycle,",
                " see [Customized Paid Plan Lifecycle](wix-paid-plans.html#paid-plan-customize)." ],
            "links": [],
            "examples":
              [ { "title": "Order a paid plan",
                  "body":
                    [ "import wixPay from 'wix-pay';",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "export function myButton_click(event, $w) {",
                      "  XXX",
                      "  const itemObj = $w(\"#dynamicDataset\").getCurrentItem();",
                      "  const planId = itemObj._id;",
                      "  XXX()",
                      "    .then( (payment) => {",
                      "      wixPaidPlans.orderPlan(planId);",
                      "    } );",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "To work with the Paid Plans API, you need to save and publish your site." ] } },
      { "name": "purchasePlan",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-paid-plans.PurchaseResult" ] },
            "doc": "Fulfilled - The created purchase." },
        "locations":
          [ { "filename": "paid-plans.js",
              "lineno": 87 } ],
        "docs":
          { "summary": "Purchases a paid plan.",
            "description":
              [ "To process paid plans on your site, first set up your site to offer paid plans",
                " as described in <a href=\"https://support.wix.com/en/article/about-paid-plans\" target=\"_blank\">About Paid Plans</a>.",
                " When setting up your site to accept paid plans, be sure to <a href=\"https://support.wix.com/en/article/creating-a-plan-in-paid-plans\" target=\"_blank\"> defne the plans you want to offer</a>,",
                " including the payment method.",
                "",
                " The `purchasePlan()` function returns a Promise that resolves to a [`PurchaseResult`](wix-paid-plans.html#PurchaseResult)",
                " object when the user completes the purchase process. Use this result only for display purposes.",
                "",
                " Purchasing a plan validates the plan, orders the plan, and continues the",
                " payment process with the Wix Pay API.",
                "",
                " To understand how `purhasePlan()` is used in a typical paid plan lifecycle,",
                " see [Typical Paid Plan Lifecycle](wix-paid-plans.html#paid-plan-lifecycle)." ],
            "links": [],
            "examples":
              [ { "title": "Purchase a paid plan on button click",
                  "body":
                    [ "import wixPay from 'wix-pay';",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "export function myPurchaseButton_click(event, $w) {",
                      "  wixPaidPlans.purchasePlan(planId)",
                      "    .then(myPurchase => {",
                      "    let  myOrderId = myPurchase.body.orderId;",
                      "    let  myStatus = myPurchase.status;",
                      "    } );",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "To work with the Paid Plans API, you need to save and publish your site." ] } } ],
  "callbacks": [],
  "messages":
    [ { "name": "OrderResult",
        "locations":
          [ { "filename": "paid-plans.js",
              "lineno": 77 } ],
        "docs":
          { "summary": "An object representing an order result.",
            "links":
              [ "[createOrder( )](wix-paid-plans.html#createOrder)" ],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "cashierOrderId",
              "type": "string",
              "doc": "ID of the cashier order." },
            { "name": "orderId",
              "type": "string",
              "doc": "ID of the order." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the order, such as 200 if the order succeeded." } ],
        "extra":
          {  },
        "labels":
          [ "changed" ] },
      { "name": "PurchaseResult",
        "locations":
          [ { "filename": "paid-plans.js",
              "lineno": 68 } ],
        "docs":
          { "summary": "An object representing a purchase result.",
            "links":
              [ "[purchasePlan( )](wix-paid-plans.html#purchasePlan)" ],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order placed during the purchase." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the purchase, such as 200 if the purchase succeeded." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    { "notes":
        [ "To work with the Paid Plans API, you need to save and publish your site." ] } }