{ "name": "tasks",
  "memberOf": "wix-crm-backend",
  "mixes": [],
  "labels": [],
  "location":
    { "filename": "api.js",
      "lineno": 62 },
  "docs":
    { "summary": "The Tasks API is used to manage a site's tasks.",
      "description":
        [ "Use <a href=\"https://support.wix.com/en/article/about-tasks-reminders\" target=\"_blank\">tasks</a> to",
          " organize and prioritize your work with <a href=\"About Ascend by Wix\" target=\"_blank\">Ascend by Wix</a>.",
          "",
          " To use the Tasks API, import `wixCrm` from the `wix-crm-backend` module:",
          "",
          "   ```javascript",
          "   import wixWindow from 'wix-window';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "createTask",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "taskData",
              "type": "wix-crm-backend.tasks.TaskData",
              "doc": "The data to use when creating the task." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "string" ] },
            "doc": "Fulfilled - ID of the newly created task." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 170 } ],
        "docs":
          { "summary": "Creates a new task.",
            "description":
              [ "The `createTask()` function returns a Promise that resolves to the ID of the",
                " the newly created task after it has been successfully created.",
                "",
                " When creating a new task, the specified [`TaskData`](#TaskData) object must",
                " contain a `title` value." ],
            "links": [],
            "examples":
              [ { "title": "Create a new task",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function createTask(title, contactId, dueAt) {",
                      "  const taskData = {",
                      "    \"title\": title,",
                      "    \"contactId\": contactId,",
                      "    \"dueAt\": dueAt",
                      "  };",
                      "",
                      "  return wixCRM.tasks.createTask(taskData);",
                      "}",
                      "",
                      "// Returns promise that resolves to:",
                      "// 3c9683ea-f6cc-470b-b0d1-2eb6b8cea912" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "deleteTask",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "taskId",
              "type": "string",
              "doc": "ID of the task to delete." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "string" ] },
            "doc": "Fulfilled - ID of the deleted task." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 276 } ],
        "docs":
          { "summary": "Delete an existing task.",
            "description":
              [ "The `deleteTask()` function returns a Promise that resolves to the ID of the",
                " the deleted task after it has been successfully deleted." ],
            "links": [],
            "examples":
              [ { "title": "Delete a task",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function deleteTask(taskIdToDelete) {",
                      "  return wixCRM.tasks.deleteTask(taskIdToDelete);",
                      "}",
                      "",
                      "// Returns promise that resolves to:",
                      "// \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getTask",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "taskId",
              "type": "string",
              "doc": "The ID of the task to get from the task list." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-crm-backend.tasks.Task" ] },
            "doc": "Fulfilled - The task with the given ID." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 135 } ],
        "docs":
          { "summary": "Gets a task by ID.",
            "description":
              [ "The `getTask()` function returns a Promise that resolves to the task with the",
                " given ID." ],
            "links":
              [ "[`getTasksList()`](#getTasksList)" ],
            "examples":
              [ { "title": "Get a task by ID",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTask() {",
                      "  const taskId = '6cb91509-7aa1-479b-a242-7327f58b7157';",
                      "",
                      "  return wixCRM.tasks.getTask(taskId);",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"creator\": {",
                      " *       id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *       creatorType: \"USER\"",
                      " *     },",
                      " *     \"title\": \"Add domain\",",
                      " *     \"isCompleted\": false,",
                      " *     \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *     \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"version\": 19",
                      " *   }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getTasksList",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-crm-backend.tasks.TaskList" ] },
            "doc": "Fulfilled - A list of tasks." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 114 } ],
        "docs":
          { "summary": "Gets all the tasks in the task list.",
            "description":
              [ "The `getTasksList()` function returns a Promise that resolves to an object",
                " containing a list of all the site's tasks, regardless of their completion status." ],
            "links":
              [ "[`getTask()`](#getTask)" ],
            "examples":
              [ { "title": "Get a list of the site's tasks",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTasksList() {",
                      "  return wixCRM.tasks.getTasksList();",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"tasks\": [",
                      " *     {",
                      " *       \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"USER\"",
                      " *       },",
                      " *       \"title\": \"Create a website\",",
                      " *       \"isCompleted\": true,",
                      " *       \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 19",
                      " *     }, {",
                      " *       \"taskId\": \"c7407ea4-5d70-46c4-af6a-80b5bece0092\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"APP\"",
                      " *       },",
                      " *       \"title\": \"Add SEO\",",
                      " *       \"isCompleted\": false,",
                      " *       \"dueAt\": \"2019-01-29T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 8",
                      " *     }",
                      " *   ]",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "setCompletedStatus",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "taskId",
              "type": "string",
              "doc": "ID of the task in which to set its completed status." },
            { "name": "isCompleted",
              "type": "boolean",
              "doc": "Whether the task is completed." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "string" ] },
            "doc": "Fulfilled - ID of the deleted task." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 245 } ],
        "docs":
          { "summary": "Set a task's completed status.",
            "description":
              [ "The `setCompletedStatus()` function returns a Promise that resolves to the ID of the",
                " the task after its completed status has been successfully set.",
                "",
                " Pass one of the following values for the `isCompleted` property:",
                "",
                " + `true`: Marks the task as completed.",
                " + `false`: Mark the task as not completed." ],
            "links": [],
            "examples":
              [ { "title": "Set a task as completed",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function setAsCompleted(taskId) {",
                      "  return wixCRM.tasks.setCompletedStatus(taskId, true);",
                      "}",
                      "",
                      "// Returns a promise that resolves to:",
                      "// \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "updateTask",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "taskId",
              "type": "string",
              "doc": "ID of the task to update." },
            { "name": "fields",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "A list of task fields to update." },
            { "name": "taskData",
              "type": "wix-crm-backend.tasks.TaskData",
              "doc": "The data to update the task with." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "string" ] },
            "doc": "Fulfilled - ID of the updated task." },
        "locations":
          [ { "filename": "api.js",
              "lineno": 201 } ],
        "docs":
          { "summary": "Update an existing task.",
            "description":
              [ "The `updateTask()` function returns a Promise that resolves to the ID of the",
                " the updated task after it has been successfully updated.",
                "",
                " Pass the names of the fields to be updated in the `fields` parameter.",
                "",
                " Pass the updated values in the `taskData` parameter.",
                "",
                " To delete a field, pass its name in the `fields` parameter and don't include",
                " the field in the `taskData` parameter." ],
            "links": [],
            "examples":
              [ { "title": "Update a task",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function updateTask(taskId, fields, taskData) {",
                      "  return wixCRM.tasks.updateTask(taskId, fields, taskData);",
                      "}",
                      "",
                      "// Returns a promise that resolves to:",
                      "// \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"" ],
                  "extra":
                    {  } },
                { "title": "Update some of a task's info",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function updateTaskOneMonth(taskId) {",
                      "  let date = new Date();",
                      "  date.setMonth(date.getMonth() + 1);",
                      "",
                      "  const fields = [\"dueAt\"];",
                      "",
                      "  const taskData = {",
                      "    \"dueAt\": date",
                      "  };",
                      "",
                      "  return wixCRM.tasks.updateTask(taskId, fields, taskData);",
                      "}",
                      "",
                      "// Returns a promise that resolves to:",
                      "// \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"",
                      "" ],
                  "extra":
                    { "description": "This example demonstrates how to update only the due date of a given task,\n while leaving the rest of the task's information as it was before the update." } },
                { "title": "Update some of a task's info and delete some info",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function updateTaskOneMonth(taskId) {",
                      "",
                      "  const fields = [\"title\", \"dueAt\"];",
                      "",
                      "  const taskData = {",
                      "    \"title\": \"New Title\"",
                      "  };",
                      "",
                      "  return wixCRM.tasks.updateTask(taskId, fields, taskData);",
                      "}",
                      "",
                      "// Returns a promise that resolves to:",
                      "// \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"",
                      "" ],
                  "extra":
                    { "description": "This example demonstrates how to delete a task's due date, while updating its\n title. Note that `\"dueAt\"` is listed in the `fields` array, but does note appear\n in the `taskData` object." } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Task",
        "locations":
          [ { "filename": "api.js",
              "lineno": 75 } ],
        "docs":
          { "summary": "An object representing a task.",
            "links":
              [ "[`getTask()`](#getTask)",
                "[`getTasksList()`](#getTasksList)" ],
            "examples":
              [ { "title": "Get a task by ID",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTask() {",
                      "  const taskId = '6cb91509-7aa1-479b-a242-7327f58b7157';",
                      "",
                      "  return wixCRM.tasks.getTask(taskId);",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"creator\": {",
                      " *       id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *       creatorType: \"USER\"",
                      " *     },",
                      " *     \"title\": \"Add domain\",",
                      " *     \"isCompleted\": false,",
                      " *     \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *     \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"version\": 19",
                      " *   }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Get a list of the site's tasks",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTasksList() {",
                      "  return wixCRM.tasks.getTasksList();",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"tasks\": [",
                      " *     {",
                      " *       \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"USER\"",
                      " *       },",
                      " *       \"title\": \"Create a website\",",
                      " *       \"isCompleted\": true,",
                      " *       \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 19",
                      " *     }, {",
                      " *       \"taskId\": \"c7407ea4-5d70-46c4-af6a-80b5bece0092\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"APP\"",
                      " *       },",
                      " *       \"title\": \"Add SEO\",",
                      " *       \"isCompleted\": false,",
                      " *       \"dueAt\": \"2019-01-29T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 8",
                      " *     }",
                      " *   ]",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "taskId",
              "type": "string",
              "doc": "Unique task identifier." },
            { "name": "creator",
              "type": "wix-crm-backend.tasks.TaskCreator",
              "doc": "User or app that\n created the task." },
            { "name": "title",
              "type": "string",
              "doc": "Task title." },
            { "name": "isCompleted",
              "type": "boolean",
              "doc": "Indicates whether the task has been\n completed." },
            { "name": "dueAt",
              "type": "Date",
              "doc": "Date the task is due." },
            { "name": "contactId",
              "type": "string",
              "doc": "Unique identifier of the site contact\n that this task is linked to." },
            { "name": "version",
              "type": "number",
              "doc": "Running task version number. Each time an\n action is performed on a task its version number is incremented." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "TaskCreator",
        "locations":
          [ { "filename": "api.js",
              "lineno": 94 } ],
        "docs":
          { "summary": "An object representing a task's creator.",
            "links":
              [ "[`getTask()`](#getTask)",
                "[`getTasksList()`](#getTasksList)" ],
            "examples":
              [ { "title": "Get a task by ID",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTask() {",
                      "  const taskId = '6cb91509-7aa1-479b-a242-7327f58b7157';",
                      "",
                      "  return wixCRM.tasks.getTask(taskId);",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"creator\": {",
                      " *       id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *       creatorType: \"USER\"",
                      " *     },",
                      " *     \"title\": \"Add domain\",",
                      " *     \"isCompleted\": false,",
                      " *     \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *     \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *     \"version\": 19",
                      " *   }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Get a list of the site's tasks",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTasksList() {",
                      "  return wixCRM.tasks.getTasksList();",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"tasks\": [",
                      " *     {",
                      " *       \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"USER\"",
                      " *       },",
                      " *       \"title\": \"Create a website\",",
                      " *       \"isCompleted\": true,",
                      " *       \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 19",
                      " *     }, {",
                      " *       \"taskId\": \"c7407ea4-5d70-46c4-af6a-80b5bece0092\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"APP\"",
                      " *       },",
                      " *       \"title\": \"Add SEO\",",
                      " *       \"isCompleted\": false,",
                      " *       \"dueAt\": \"2019-01-29T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 8",
                      " *     }",
                      " *   ]",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "Unique creator identifier." },
            { "name": "creatorType",
              "type": "string",
              "doc": "Type of the task's creator. `\"USER\"`\n if the task was created using the site's dashboard. `\"APP\"` if the task was\n created using the [`createTask()`](#createTask) function or if it was created\n by an app installed on the site." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "TaskData",
        "locations":
          [ { "filename": "api.js",
              "lineno": 158 } ],
        "docs":
          { "summary": "An object representing the data of a task to be created.",
            "links":
              [ "[`createTask()`](#createTask)" ],
            "examples":
              [ { "title": "Create a new task on button click",
                  "body":
                    [ "/****************************",
                      " * backend code - tasks.jsw *",
                      " ****************************/",
                      "import wixCRM from 'wix-crm-backend';",
                      "import wixUsers from 'wix-users-backend';",
                      "",
                      "export function createFollowUpTask() {",
                      "  let followUpDate = new Date();",
                      "  followUpDate.setMonth(followUpDate.getMonth() + 1);",
                      "",
                      "  const taskData = {",
                      "    \"title\": \"Follow Up\",",
                      "    \"contactId\": wixUsers.currentUser.id,",
                      "    \"dueAt\": followUpDate",
                      "  };",
                      "",
                      "  return wixCRM.tasks.createTask(taskData);",
                      "}",
                      "",
                      "/*************",
                      " * page code *",
                      " *************/",
                      "import {createFollowUpTask} from 'backend/tasks';",
                      "",
                      "// ..",
                      "",
                      "export function followUpButton_click(event) {",
                      "  createFollowUpTask()",
                      "    .then( (result) => {",
                      "      console.log(result); // \"3c9683ea-f6cc-470b-b0d1-2eb6b8cea912\"",
                      "    } )",
                      "    .catch( (error) => {",
                      "      console.log(error);",
                      "    } );",
                      "}",
                      "" ],
                  "extra":
                    { "description": "This example demonstrates how to create a task to follow up with the current\n user in a month's time when the user clicks a Follow Up button." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "title",
              "type": "string",
              "doc": "Task title.",
              "optional": true },
            { "name": "dueAt",
              "type": "Date",
              "doc": "Date the task is due.",
              "optional": true },
            { "name": "contactId",
              "type": "string",
              "doc": "Unique identifier of the site contact\n that this task is linked to.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "TaskList",
        "locations":
          [ { "filename": "api.js",
              "lineno": 107 } ],
        "docs":
          { "summary": "An object representing a task list.",
            "links":
              [ "[`getTasksList()`](#getTasksList)" ],
            "examples":
              [ { "title": "Get a list of the site's tasks",
                  "body":
                    [ "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function getTasksList() {",
                      "  return wixCRM.tasks.getTasksList();",
                      "}",
                      "",
                      "/* Returns a promise that resolves to:",
                      " * {",
                      " *   \"tasks\": [",
                      " *     {",
                      " *       \"taskId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"USER\"",
                      " *       },",
                      " *       \"title\": \"Create a website\",",
                      " *       \"isCompleted\": true,",
                      " *       \"dueAt\": \"2019-01-22T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 19",
                      " *     }, {",
                      " *       \"taskId\": \"c7407ea4-5d70-46c4-af6a-80b5bece0092\",",
                      " *       \"creator\": {",
                      " *         id: \"791f5e4f-5377-47a9-bd8e-cc0ef4605c8f\".",
                      " *         creatorType: \"APP\"",
                      " *       },",
                      " *       \"title\": \"Add SEO\",",
                      " *       \"isCompleted\": false,",
                      " *       \"dueAt\": \"2019-01-29T10:00:00Z\",",
                      " *       \"contactId\": \"6cb91509-7aa1-479b-a242-7327f58b7157\",",
                      " *       \"version\": 8",
                      " *     }",
                      " *   ]",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "task",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "wix-crm-backend.tasks.Task" ] },
              "doc": "A list of tasks." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }