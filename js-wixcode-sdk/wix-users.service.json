{ "name": "wix-users",
  "mixes": [],
  "labels":
    [ "changed",
      "removed" ],
  "location":
    { "filename": "users.es6",
      "lineno": 9 },
  "docs":
    { "summary": "The wix-users module contains functionality for working with your\n site's users.",
      "description":
        [ "There are three types of users:",
          "",
          " + Visitor - A user who is not logged into your site.",
          " + Member - A user who is logged into your site.",
          " + Admin - The owner of the site.",
          "",
          "",
          " To use the Users API, import `wixUsers` from the `wix-users` module:",
          "",
          "   ``` javascript",
          "   import wixUsers from 'wix-users';",
          "   ```",
          "",
          "The APIs in `wix-users` can only be used in front-end code." ],
      "links": [],
      "examples": [] },
  "srcDocs":
    { "summary": "The wix-users module contains functionality for working with your\n site's users from client-side code.",
      "description":
        [ "There are three types of users:",
          "",
          " + Visitor - A user who is not logged into your site.",
          " + Member - A user who is logged into your site.",
          " + Admin - The owner of the site.",
          "",
          "",
          " To use the Users API, import `wixUsers` from the `wix-users` module:",
          "",
          "   ``` javascript",
          "   import wixUsers from 'wix-users';",
          "   ```" ],
      "links": [],
      "examples": [] },
  "properties":
    [ { "name": "currentUser",
        "labels": [],
        "get": true,
        "set": false,
        "type": "wix-users.User",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 227 } ],
        "docs":
          { "summary": "Gets the current user viewing the site.",
            "description":
              [ "Gets a [`User`](wix-users.User.html) object containing information about",
                " the user currently viewing the site." ],
            "links": [],
            "examples":
              [ { "title": "Get the current user's information",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let user = wixUsers.currentUser;",
                      "",
                      "let userId = user.id;           // \"r5cme-6fem-485j-djre-4844c49\"",
                      "let isLoggedIn = user.loggedIn; // true",
                      "let userRole = user.role;       // \"Member\"",
                      "",
                      "user.getEmail()",
                      "  .then( (email) => {",
                      "    let userEmail = email;      // \"user@something.com\"",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Gets the current user viewing the site.",
            "description":
              [ "Gets a [`User`](wix-users.User.html) object containing information about",
                " the user currently viewing the site." ],
            "links": [],
            "examples":
              [ { "title": "Get the current user's information",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let user = wixUsers.currentUser;",
                      "",
                      "let userId = user.id;           // \"r5cme-6fem-485j-djre-4844c49\"",
                      "let isLoggedIn = user.loggedIn; // true",
                      "let userRole = user.role;       // \"Member\"",
                      "",
                      "user.getEmail()",
                      "  .then( (email) => {",
                      "    let userEmail = email;      // \"user@something.com\"",
                      "  } );" ] } ] } } ],
  "operations":
    [ { "name": "applySessionToken",
        "labels":
          [ "new",
            "removed",
            "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "sessionToken",
              "type": "string",
              "doc": "The session token to apply.",
              "srcDoc": "The session token to apply." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "srcDoc": "on fulfilled - When the token as been applied." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 637 } ],
        "docs":
          { "summary": "Logs the current user into the site using the given session token.",
            "description":
              [ "The `applySessionToken()` function returns a Promise that resolves when the",
                " given session token is applied and the current user is logged into the site.",
                "",
                " You receive a session token from the following functions called from backend",
                " code:",
                " + [`approveByEmail()`](wix-users-backend.html#approveByEmail)",
                " + [`approveByToken()`](wix-users-backend.html#approveByToken)",
                " + [`register()`](wix-users-backend.html#register)",
                "",
                "",
                " Pass the returned session token to your client-side code and apply it by",
                " calling `applySessionToken()` to complete the process started by one of the",
                " above functions." ],
            "links": [],
            "examples":
              [ { "title": "Log in the current user by applying a session token",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.applySessionToken(sessionToken)",
                      "  .then( () => {",
                      "    console.log(\"User logged in.\");",
                      "  } );" ] },
                { "title": "Register a user using a 3rd party for approval",
                  "body":
                    [ "/*******************************",
                      " * backend code - register.jsw *",
                      " *******************************/",
                      "import wixUsers from 'wix-users-backend';",
                      "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function doRegistration(email, password, firstName, lastName) {",
                      "  // call a 3rd party API to check if the user is approved",
                      "  return approveBy3rdParty(email, password)",
                      "    .then( (isApproved) => {",
                      "      // if approved by 3rd party",
                      "      if (isApproved) {",
                      "        // register the user",
                      "        return wixUsers.register(email, password, {",
                      "          contactInfo: {",
                      "            \"firstName\": firstName,",
                      "            \"lastName\": lastName",
                      "          }",
                      "        } )",
                      "          // user is now registered and pending approval",
                      "          // approve the user",
                      "          .then( (result) => wixUsers.approveByToken(result.approvalToken) )",
                      "          // user is now active, but not logged in",
                      "          // return the session token to log in the user client-side",
                      "          .then( (sessionToken) => {",
                      "            return {sessionToken, \"approved\": true};",
                      "          } );",
                      "      }",
                      "      // if not approved by 3rd party",
                      "      else {",
                      "        // block the user",
                      "        return wixUsers.blockByEmail(email)",
                      "          .then( () => {",
                      "            return {\"approved\": false};",
                      "          });",
                      "      }",
                      "    } )",
                      "}",
                      "",
                      "/********************",
                      " * client-side code *",
                      " ********************/",
                      "import wixUsers from 'wix-users';",
                      "import {doRegistration} from 'backend/register';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "",
                      "doRegistration(email, password, firstName, lastName)",
                      "  .then( (result) => {",
                      "    if (result.approved)",
                      "      // log the user in",
                      "      wixUsers.applySessionToken(result.sessionToken);",
                      "    else {",
                      "      console.log(\"Not approved!\");",
                      "    }",
                      "  } );" ] },
                { "title": "Register a user sending an email for confirmation",
                  "body":
                    [ "/*******************************",
                      " * backend code - register.jsw *",
                      " *******************************/",
                      "import wixUsers from 'wix-users-backend';",
                      "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function doRegistration(email, password, firstName, lastName) {",
                      "  // register the user",
                      "  return wixUsers.register(email, password, {",
                      "    contactInfo: {",
                      "      \"firstName\": firstName,",
                      "      \"lastName\": lastName",
                      "    }",
                      "  } )",
                      "    .then( (results) => {",
                      "      // user is now registered and pending approval",
                      "      // send a registration verification email",
                      "      return wixUsers.emailUser('verify-registration', results.user.id,{",
                      "        \"variables\": {",
                      "          \"name\": firstName,",
                      "          \"verifyLink\": `http://domain.com/post-register?token=${approvalToken}`",
                      "        }",
                      "      } );",
                      "    } );",
                      "}",
                      "",
                      "export function doApproval(token) {",
                      "  // approve the user",
                      "  return wixCRM.approveByToken(token)",
                      "    // user is now active, but not logged in",
                      "    // return the session token to log in the user client-side",
                      "    .then( (sessionToken) => {",
                      "      return {sessionToken, \"approved\": true};",
                      "    } );",
                      "    .catch( (error) => {",
                      "      return {\"approved\": false, \"reason\": error};",
                      "    } );",
                      "}",
                      "",
                      "/*********************************",
                      " * client-side registration code *",
                      " *********************************/",
                      "import wixUsers from 'wix-users';",
                      "import {doRegistration} from 'backend/register';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "",
                      "doRegistration(email, password, firstName, lastName)",
                      "  .then( () => {",
                      "    console.log(\"Confirmation email sent.\");",
                      "  } );",
                      "",
                      "/**************************************",
                      " * client-side post-registration code *",
                      " **************************************/",
                      "import wixLocation from 'wix-location';",
                      "import {doApproval} from 'backend/register';",
                      "",
                      "$w.onReady( () => {",
                      "  // get the token from the URL",
                      "  let token = wixLocation.query.token;",
                      "",
                      "  doAppoval(token)",
                      "    .then( (result) => {",
                      "      if (result.approved)",
                      "        // log the user in",
                      "        wixUsers.applySessionToken(result.sessionToken);",
                      "      else {",
                      "        console.log(\"Not approved!\");",
                      "      }",
                      "    } );",
                      "}" ] } ] },
        "srcDocs":
          { "summary": "Logs the current user into the site using the given session token.",
            "description":
              [ "The `applySessionToken()` function returns a Promise that resolves when the",
                " given session token is applied and the current user is logged into the site.",
                "",
                " You receive a session token from the following functions called from backend",
                " code:",
                " + [`approveByEmail()`](wix-users-backend.html#approveByEmail)",
                " + [`approveByToken()`](wix-users-backend.html#approveByToken)",
                " + [`register()`](wix-users-backend.html#register)",
                "",
                "",
                " Pass the returned session token to your client-side code and apply it by",
                " calling `applySessionToken()` to complete the process started by one of the",
                " above functions." ],
            "links": [],
            "examples":
              [ { "title": "Log in the current user by applying a session token",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.applySessionToken(sessionToken)",
                      "  .then( () => {",
                      "    console.log(\"User logged in.\");",
                      "  } );" ] },
                { "title": "Register a user using a 3rd party for approval",
                  "body":
                    [ "/*******************************",
                      " * backend code - register.jsw *",
                      " *******************************/",
                      "import wixUsers from 'wix-users-backend';",
                      "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function doRegistration(email, password, firstName, lastName) {",
                      "  // call a 3rd party API to check if the user is approved",
                      "  return approveBy3rdParty(email, password)",
                      "    .then( (isApproved) => {",
                      "      // if approved by 3rd party",
                      "      if (isApproved) {",
                      "        // register the user",
                      "        return wixUsers.register(email, password, {",
                      "          contactInfo: {",
                      "            \"firstName\": firstName,",
                      "            \"lastName\": lastName",
                      "          }",
                      "        } )",
                      "          // user is now registered and pending approval",
                      "          // approve the user",
                      "          .then( (result) => wixUsers.approveByToken(result.approvalToken) )",
                      "          // user is now active, but not logged in",
                      "          // return the session token to log in the user client-side",
                      "          .then( (sessionToken) => {",
                      "            return {sessionToken, \"approved\": true};",
                      "          } );",
                      "      }",
                      "      // if not approved by 3rd party",
                      "      else {",
                      "        // block the user",
                      "        return wixUsers.blockByEmail(email)",
                      "          .then( () => {",
                      "            return {\"approved\": false};",
                      "          });",
                      "      }",
                      "    } )",
                      "}",
                      "",
                      "/********************",
                      " * client-side code *",
                      " ********************/",
                      "import wixUsers from 'wix-users';",
                      "import {doRegistration} from 'backend/register';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "",
                      "doRegistration(email, password, firstName, lastName)",
                      "  .then( (result) => {",
                      "    if (result.approved)",
                      "      // log the user in",
                      "      wixUsers.applySessionToken(result.sessionToken);",
                      "    else {",
                      "      console.log(\"Not approved!\");",
                      "    }",
                      "  } );" ] },
                { "title": "Register a user sending an email for confirmation",
                  "body":
                    [ "/*******************************",
                      " * backend code - register.jsw *",
                      " *******************************/",
                      "import wixUsers from 'wix-users-backend';",
                      "import wixCRM from 'wix-crm-backend';",
                      "",
                      "export function doRegistration(email, password, firstName, lastName) {",
                      "  // register the user",
                      "  return wixUsers.register(email, password, {",
                      "    contactInfo: {",
                      "      \"firstName\": firstName,",
                      "      \"lastName\": lastName",
                      "    }",
                      "  } )",
                      "    .then( (results) => {",
                      "      // user is now registered and pending approval",
                      "      // send a registration verification email",
                      "      return wixUsers.emailUser('verify-registration', results.user.id,{",
                      "        \"variables\": {",
                      "          \"name\": firstName,",
                      "          \"verifyLink\": `http://domain.com/post-register?token=${approvalToken}`",
                      "        }",
                      "      } );",
                      "    } );",
                      "}",
                      "",
                      "export function doApproval(token) {",
                      "  // approve the user",
                      "  return wixCRM.approveByToken(token)",
                      "    // user is now active, but not logged in",
                      "    // return the session token to log in the user client-side",
                      "    .then( (sessionToken) => {",
                      "      return {sessionToken, \"approved\": true};",
                      "    } );",
                      "    .catch( (error) => {",
                      "      return {\"approved\": false, \"reason\": error};",
                      "    } );",
                      "}",
                      "",
                      "/*********************************",
                      " * client-side registration code *",
                      " *********************************/",
                      "import wixUsers from 'wix-users';",
                      "import {doRegistration} from 'backend/register';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "",
                      "doRegistration(email, password, firstName, lastName)",
                      "  .then( () => {",
                      "    console.log(\"Confirmation email sent.\");",
                      "  } );",
                      "",
                      "/**************************************",
                      " * client-side post-registration code *",
                      " **************************************/",
                      "import wixLocation from 'wix-location';",
                      "import {doApproval} from 'backend/register';",
                      "",
                      "$w.onReady( () => {",
                      "  // get the token from the URL",
                      "  let token = wixLocation.query.token;",
                      "",
                      "  doAppoval(token)",
                      "    .then( (result) => {",
                      "      if (result.approved)",
                      "        // log the user in",
                      "        wixUsers.applySessionToken(result.sessionToken);",
                      "      else {",
                      "        console.log(\"Not approved!\");",
                      "      }",
                      "    } );",
                      "}" ] } ] } },
      { "name": "emailUser",
        "labels":
          [ "new",
            "changed",
            "removed" ],
        "nameParams": [],
        "params":
          [ { "name": "emailId",
              "type": "string",
              "doc": "The Email ID of the Transactional Email to send.",
              "srcDoc": "The Email ID of the Triggered Email to send." },
            { "name": "toUser",
              "type": "string",
              "doc": "The User ID of the currently signed-in member.",
              "srcDoc": "The User ID of the currently signed-in member." },
            { "name": "options",
              "type": "wix-users.TriggeredEmailOptions",
              "doc": "Variable values to insert into the email.",
              "srcDoc": "Variable values to insert into the email.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "on fulfilled - When the email is sent.. on rejected - Error message.",
            "srcDoc": "on fulfilled - When the email is sent.. on rejected - Error message." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 473 } ],
        "docs":
          { "summary": "Sends a Transactional Email to the currently logged-in site member.",
            "description":
              [ "The `emailUser()` function sends a Transactional Email to the currently",
                " logged-in site member.",
                "",
                " Before using the `emailUser()` function, you will need to set up at least one",
                " Transactional Email. To learn more about Transactional Emails,",
                " see [About Transactional Emails](https://support.wix.com/en/article/about-transactional-emails).",
                " To learn how to create a Transactional Email, see",
                " [Creating a Transactional Email](https://support.wix.com/en/article/creating-a-transactional-email).",
                "",
                " Specify which email to send by passing the email's ID in the `emailId` parameter.",
                "",
                " Specify which member the email is sent to by passing the member's user ID in the `toUser`",
                " parameter. You can only send the email to the currently logged-in",
                " member. You can get that member's ID using the [`id`](wix-users.User.html#id) property",
                " of the [`currentUser`](#currentUser).",
                "",
                " If the specified Transactional Email contains [variables](https://support.wix.com/en/article/using-variables-to-add-personalized-text),",
                " you can pass values for those variables using the optional `options` parameter.",
                " You pass a [`TransactionalEmailOptions`](#TransactionalEmailOptions) object",
                " which contains the values to be inserted into your email in place of the variables",
                " defined in that email. If the object you pass to the `options` parameter does",
                " not contain a `key:value` pair for a variable in your Transactional Email, the",
                " fallback value defined when creating your Transactional Email will be inserted",
                " in place of the variable.",
                "",
                " Note that Transactional Emails generates a code snippet for each of your email",
                " templates. The generated code includes the email's ID and keys for all the",
                " email's variable names. You can copy and paste the snippet into your code.",
                " Then you will need to define values for the `toUser` property and for each",
                " variable key. To learn how to use the generated snippet in your code, see",
                " [How to Send a Transactional Email with Code](https://support.wix.com/en/article/how-to-send-a-transactional-email-with-code)." ],
            "links": [],
            "examples":
              [ { "title": "Send a Transactional Email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "",
                      "wixUsers.emailUser('thankyou', userId)",
                      "  .then( () => {",
                      "    console.log(\"Transactional email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] },
                { "title": "Send a Transactional Email with variable values",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Transactional email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Sends a Triggered Email to the currently logged-in site member.",
            "description":
              [ "To learn more about Triggered Emails, see:",
                " + [About Triggered Emails](https://support.wix.com/en/article/about-triggered-emails)",
                " + [Creating a Triggered Email](https://support.wix.com/en/article/creating-a-triggered-email)",
                " + [How to Send a Triggered Email to Members with Code](https://support.wix.com/en/article/how-to-send-a-triggered-email-to-members-with-code)",
                "",
                "",
                " Before using the `emailUser()` function, you need to set up at least one",
                " Triggered Email.",
                "",
                " Specify which email to send by passing the email's ID in the `emailId` parameter.",
                "",
                " Specify which member the email is sent to by passing the member's user ID in the `toUser`",
                " parameter. You can only send the email to the currently logged-in",
                " member. You can get that member's ID using the [`id`](wix-users.User.html#id) property",
                " of the [`currentUser`](#currentUser).",
                "",
                " If the specified Triggered Email contains [variables](https://support.wix.com/en/article/using-variables-to-add-personalized-text),",
                " you can pass values for those variables using the optional `options` parameter.",
                " You pass a [`TriggeredEmailOptions`](#TriggeredEmailOptions) object",
                " which contains the values to be inserted into your email in place of the variables",
                " defined in that email. The values passed must be strings. If the object you",
                " pass to the `options` parameter does not contain a `key:value` pair for a",
                " variable in your Triggered Email, the fallback value defined when creating",
                " your Triggered Email is inserted in place of the variable.",
                "",
                " Note that Triggered Emails generates a code snippet for each of your email",
                " templates. The generated code includes the email's ID and keys for all the",
                " email's variable names. You can copy and paste the snippet into your code.",
                " Then, you need to define values for the `toUser` property and for each",
                " variable key. To learn how to use the generated snippet in your code, see",
                " [How to Send a Triggered Email with Code](https://support.wix.com/en/article/how-to-send-a-triggered-email-with-code)." ],
            "links": [],
            "examples":
              [ { "title": "Send a Triggered Email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "",
                      "wixUsers.emailUser('thankyou', userId)",
                      "  .then( () => {",
                      "    console.log(\"Triggered email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] },
                { "title": "Send a Triggered Email to the currently logged-in member with variable values",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Triggered email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] } },
      { "name": "logout",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params": [],
        "ret":
          { "type": "void",
            "doc": "undefined. on rejected - Message that the log out was unsuccessful and why." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 337 } ],
        "docs":
          { "summary": "Logs the current user out of the site.",
            "description":
              [ "The `logout()` function returns a Promise that resolves when the current user",
                " has been logged out of the site." ],
            "links": [],
            "examples":
              [ { "title": "Log out the current user",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.logout();" ] },
                { "title": "Log out the current user and log a message when done",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.logout()",
                      "  .then( ( ) => {",
                      "    console.log(\"User logged out\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err; // \"No member is logged in\"",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Logs the current user out of the site.",
            "description":
              [ "The `logout()` function logs the current user out of the site." ],
            "links": [],
            "examples":
              [ { "title": "Log out the current user",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.logout();" ] } ] } },
      { "name": "onLogin",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "handler",
              "type": "$w.LoginHandler",
              "doc": "The name of the function or the function expression to run when a user has logged in.",
              "srcDoc": "The name of the function or the function expression to run when a user has logged in." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 422 } ],
        "docs":
          { "summary": "Sets the function that runs when a user logs in.",
            "description":
              [ "Use the `onLogin()` function for code you want to run after a user successfully",
                " logs into your site.",
                "",
                " Usually, you want to call the `onLogin()` function in the **Site** tab of the",
                " code panel so that the `onLogin()` event handler will be run no matter which",
                " page on your site a user uses to log in." ],
            "links": [],
            "examples":
              [ { "title": "Run code when a user logs in",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.onLogin( (user) => {",
                      "  let userId = user.id;           // \"r5cme-6fem-485j-djre-4844c49\"",
                      "  let isLoggedIn = user.loggedIn; // true",
                      "  let userRole = user.role;       // \"Member\"",
                      "} );" ] } ] },
        "srcDocs":
          { "summary": "Sets the function that runs when a user logs in.",
            "description":
              [ "Use the `onLogin()` function for code you want to run after a user successfully",
                " logs into your site.",
                "",
                " Usually, you want to call the `onLogin()` function in the **Site** tab of the",
                " code panel so that the `onLogin()` event handler runs no matter which",
                " page on your site a user uses to log in." ],
            "links": [],
            "examples":
              [ { "title": "Run code when a user logs in",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.onLogin( (user) => {",
                      "  let userId = user.id;           // \"r5cme-6fem-485j-djre-4844c49\"",
                      "  let isLoggedIn = user.loggedIn; // true",
                      "  let userRole = user.role;       // \"Member\"",
                      "} );" ] } ] } },
      { "name": "promptForgotPassword",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "language",
              "type": "string",
              "doc": "The language of the reset password form. Defaults to `\"English\"` if not passed or the given language is not one of the languages found in the Permissions tab of the Page Settings panel in the Editor.",
              "srcDoc": "The language of the reset password form. Defaults to `\"English\"` if not passed or the given language is not one of the languages found in the Permissions tab of the Page Settings panel in the Editor.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "undefined. on rejected - Message that the dialog was canceled, user is already logged in, or any other reason the password reset failed.",
            "srcDoc": "on rejected - Message that the dialog was canceled, user is already logged in, or any other reason the password reset failed." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 366 } ],
        "docs":
          { "summary": "Prompts the current site visitor with a password reset.",
            "description":
              [ "The `promptForgotPassword()` function returns a Promise that resolves when",
                " the user has sumbitted the forgot password form." ],
            "links":
              [ "[promptLogin( )](#promptLogin)" ],
            "examples":
              [ { "title": "Prompt the user with a password reset",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptForgotPassword();" ] },
                { "title": "Prompt the current user to login with given language",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptForgotPassword()",
                      "  .then( ( ) => {",
                      "    console.log(\"Password reset submitted\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err; // \"The user closed the forgot password dialog\"",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Prompts the current site visitor with a password reset.",
            "description":
              [ "The `promptForgotPassword()` function returns a Promise that resolves when",
                " the user has sumbitted the forgot password form.",
                "",
                " The `promptForgotPassword()` function cannot be called before the page is ready." ],
            "links":
              [ "[promptLogin( )](#promptLogin)" ],
            "examples":
              [ { "title": "Prompt the user with a password reset",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptForgotPassword();" ] },
                { "title": "Prompt the current user to login with given language",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptForgotPassword()",
                      "  .then( ( ) => {",
                      "    console.log(\"Password reset submitted\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err; // \"The user closed the forgot password dialog\"",
                      "  } );" ] } ] } },
      { "name": "promptLogin",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "options",
              "type": "wix-users.LoginOptions",
              "doc": "The options that determine how the login dialog box appears.",
              "srcDoc": "The options that determine how the login dialog box appears." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-users.User" ] },
            "doc": "undefined. on fulfilled - Information about the newly logged in user.. on rejected - Message that the dialog was canceled, or any other reason the user failed to log in.",
            "srcDoc": "on fulfilled - Information about the newly logged in user.. on rejected - Message that the dialog was canceled, or any other reason the user failed to log in." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 266 } ],
        "docs":
          { "summary": "Prompts the current site visitor to log in as a site member.",
            "description":
              [ "The `promptLogin()` function returns a Promise that resolves to the newly",
                " logged in user when the login has completed." ],
            "links":
              [ "[promptForgotPassword( )](#promptForgotPassword)" ],
            "examples":
              [ { "title": "Prompt the current user to login",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptLogin()",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;          // \"The user closed the login dialog\"",
                      "  } );" ] },
                { "title": "Prompt the current user to login with given options",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let options = {\"mode\": \"login\", \"lang\": \"es\"};",
                      "",
                      "wixUsers.promptLogin(options)",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;             // \"The user closed the login dialog\"",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Prompts the current site visitor to log in as a site member.",
            "description":
              [ "The `promptLogin()` function returns a Promise that resolves to the newly",
                " logged in user when the login has completed.",
                "",
                " The `promptLogin()` function cannot be called before the page is ready." ],
            "links":
              [ "[promptForgotPassword( )](#promptForgotPassword)" ],
            "examples":
              [ { "title": "Prompt the current user to login",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "wixUsers.promptLogin()",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;          // \"The user closed the login dialog\"",
                      "  } );" ] },
                { "title": "Prompt the current user to login with given options",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let options = {\"mode\": \"login\", \"lang\": \"es\"};",
                      "",
                      "wixUsers.promptLogin(options)",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;             // \"The user closed the login dialog\"",
                      "  } );" ] } ] } },
      { "name": "register",
        "labels":
          [ "new",
            "changed",
            "removed" ],
        "nameParams": [],
        "params":
          [ { "name": "email",
              "type": "string",
              "doc": "The email address to use when registering the user as a site member.",
              "srcDoc": "The email address to use when registering the user as a site member." },
            { "name": "password",
              "type": "string",
              "doc": "The password the newly added site member will use to log in.",
              "srcDoc": "The password the newly added site member will use to log in." },
            { "name": "options",
              "type": "wix-users.RegistrationOptions",
              "doc": "Registration options.",
              "srcDoc": "Registration options.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-users.RegistrationResult" ] },
            "doc": "on fulfilled - When the user has been registered.. on rejected - Error message.",
            "srcDoc": "on fulfilled - When the user has been registered.. on rejected - Error message." },
        "locations":
          [ { "filename": "users.es6",
              "lineno": 564 } ],
        "docs":
          { "summary": "Registers a new site member.",
            "description":
              [ "The `register()` function returns a Promise that resolves to a [`RegistrationResult`](#RegistrationResult)",
                " object when the user is either registered or is pending registration.",
                "",
                " If Site Members is [configured for automatic approval](https://support.wix.com/en/article/customizing-your-approval-settings-for-site-members),",
                " the `register()` function returns a status of `\"ACTIVE\"` and the user will",
                " be an active member of the site.",
                "",
                " If Site Members is [configured for manual approval](https://support.wix.com/en/article/customizing-your-approval-settings-for-site-members),",
                " the `register()` function returns a status of `\"PENDING\"` and the user will",
                " be a pending member of the site. In order to activate a pending user, the",
                " site owner can [approve the user manually](https://support.wix.com/en/article/approving-a-site-member)",
                " using the Contacts application or you can call the [approveByToken()](wix-users-backend.html#approveByToken)",
                " or [approveByEmail()](wix-users-backend.html#approveByEmail) functions." ],
            "links": [],
            "examples":
              [ { "title": "Register a user as a site member with manual approval",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "",
                      "wixUsers.register(email, password)",
                      "  .then( (result) => {",
                      "    let status = result.status; // \"PENDING\"",
                      "    let approvalToken = result.approvalToken;",
                      "    let user = result.user;",
                      "  } );" ] },
                { "title": "Register a user as a site member with auto approval",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "",
                      "wixUsers.register(email, password)",
                      "  .then( (result) => {",
                      "    let status = result.status; // \"ACTIVE\"",
                      "    let user = result.user;",
                      "  } );" ] },
                { "title": "Register a user as a site member with registration options",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "let phone =  // the user's phone number",
                      "let nickname = // the user's nickname",
                      "",
                      "wixUsers.register(email, password, {",
                      "    contactInfo: {",
                      "        \"firstName\": firstName,",
                      "        \"lastName\": lastName,",
                      "        \"phone\": phone,",
                      "        \"nickname\": nickname",
                      "    }",
                      "  } )",
                      "  .then( (result) => {",
                      "    let resultStatus = result.status;",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "Registers a new site member.",
            "description":
              [ "The `register()` function returns a Promise that resolves to a [`RegistrationResult`](#RegistrationResult)",
                " object when the user is either registered or is pending registration.",
                "",
                " If Site Members is [configured for automatic approval](https://support.wix.com/en/article/customizing-your-approval-settings-for-site-members),",
                " the `register()` function returns a status of `\"Active\"` and the user",
                " becomes an active member of the site.",
                "",
                " If Site Members is [configured for manual approval](https://support.wix.com/en/article/customizing-your-approval-settings-for-site-members),",
                " the `register()` function returns a status of `\"Pending\"` and the user",
                " becomes a pending member of the site. In order to activate a pending user, the",
                " site owner can [approve the user manually](https://support.wix.com/en/article/approving-a-site-member)",
                " using the Contacts application or you can call the [approveByToken()](wix-users-backend.html#approveByToken)",
                " or [approveByEmail()](wix-users-backend.html#approveByEmail) functions." ],
            "links": [],
            "examples":
              [ { "title": "Register a user as a site member with manual approval",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "",
                      "wixUsers.register(email, password)",
                      "  .then( (result) => {",
                      "    let status = result.status; // \"Pending\"",
                      "    let approvalToken = result.approvalToken;",
                      "    let user = result.user;",
                      "  } );" ] },
                { "title": "Register a user as a site member with auto approval",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "",
                      "wixUsers.register(email, password)",
                      "  .then( (result) => {",
                      "    let status = result.status; // \"Active\"",
                      "    let user = result.user;",
                      "  } );" ] },
                { "title": "Register a user as a site member with registration options",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let email = // the user's email addresses",
                      "let password = // the user's password",
                      "let firstName = // the user's first name",
                      "let lastName = // the user's last name",
                      "let phone =  // the user's phone number",
                      "let nickname = // the user's nickname",
                      "",
                      "wixUsers.register(email, password, {",
                      "    contactInfo: {",
                      "        \"firstName\": firstName,",
                      "        \"lastName\": lastName,",
                      "        \"phone\": phone,",
                      "        \"nickname\": nickname",
                      "    }",
                      "  } )",
                      "  .then( (result) => {",
                      "    let resultStatus = result.status;",
                      "  } );" ] } ] } } ],
  "callbacks": [],
  "messages":
    [ { "name": "LoginOptions",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 256 } ],
        "docs":
          { "summary": "An object used by the `promptLogin()` function to determine how the login dialog box appears.",
            "links":
              [ "[promptLogin( )](#promptLogin)" ],
            "examples":
              [ { "title": "Prompt the current user to login",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let options = {\"mode\": \"login\", \"lang\": \"es\"};",
                      "",
                      "wixUsers.promptLogin(options)",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;             // \"The user closed the login dialog\"",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "An object used by the `promptLogin()` function to determine how the login dialog box appears.",
            "links":
              [ "[promptLogin( )](#promptLogin)" ],
            "examples":
              [ { "title": "Prompt the current user to login",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let options = {\"mode\": \"login\", \"lang\": \"es\"};",
                      "",
                      "wixUsers.promptLogin(options)",
                      "  .then( (user) => {",
                      "    let userId = user.id;           // \"r5me-6fem-45jf-djhe-484349\"",
                      "    let isLoggedIn = user.loggedIn; // true",
                      "    let userRole = user.role;       // \"member\"",
                      "    return user.getEmail();",
                      "  } )",
                      "  .then( (email) => {",
                      "    let userEmail = email;          // \"user@something.com\"",
                      "  } )",
                      "  .catch( (err) => {",
                      "    let errorMsg = err;             // \"The user closed the login dialog\"",
                      "  } );" ] } ] },
        "members":
          [ { "name": "mode",
              "type": "string",
              "docs": "What type of login experience to present: `\"login\"` or `\"signup\"`. Defaults to the option chosen in the Member Signup Settings panel in the Editor.",
              "srcDocs": "What type of login experience to present: `\"login\"` or `\"signup\"`. Defaults to the option chosen in the Member Signup Settings panel in the Editor." },
            { "name": "lang",
              "type": "string",
              "docs": "The two letter language code of the language to show the login form in. Defaults to `\"en\"` if the property doesn't exist or the given language is not one of the languages found in the Permissions tab of the Page Settings panel in the Editor.",
              "srcDocs": "The two letter language code of the language to show the login form in. Defaults to `\"en\"` if the property doesn't exist or the given language is not one of the languages found in the Permissions tab of the Page Settings panel in the Editor." } ],
        "labels": [] },
      { "name": "RegistrationOptions",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 543 } ],
        "docs":
          { "summary": "An object that contains information about a site registration.",
            "description":
              [ "[Labels](https://support.wix.com/en/article/creating-contact-labels) and",
                " [custom fields](https://support.wix.com/en/article/adding-custom-fields-to-contacts)",
                " sent in `contactInfo` must already exist in the Contacts application." ],
            "links":
              [ "[register](#register)" ],
            "examples": [] },
        "srcDocs":
          { "summary": "An object that contains information about a site registration.",
            "links":
              [ "[register](#register)" ],
            "examples": [] },
        "members":
          [ { "name": "contactInfo",
              "type": "wix-crm.ContactInfo",
              "docs": "Contact information.",
              "srcDocs": "Contact information." } ],
        "labels":
          [ "new",
            "removed",
            "changed" ] },
      { "name": "RegistrationResult",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 551 } ],
        "docs":
          { "summary": "An object that contains information about the results of a site registration.",
            "links": [],
            "examples": [] },
        "srcDocs":
          { "summary": "An object that contains information about the results of a site registration.",
            "links":
              [ "[register](#register" ],
            "examples": [] },
        "members":
          [ { "name": "status",
              "type": "string",
              "docs": "Registration status. Either \"Pending\" or \"Active\".",
              "srcDocs": "Registration status. Either \"PENDING\" or \"ACTIVE\"." },
            { "name": "approvalToken",
              "type": "string",
              "docs": "A token for approving the user as\n a site member using the [approveByToken()](wix-users-backend.html#approveByToken)\n function. The token is safe to pass via email or from client-side code to\n backend code. The token is only available when `status` is \"Pending\".",
              "srcDocs": "A token for approving the user as\n a site member using the [approveByToken()](wix-users-backend.html#approveByToken)\n function. The token is safe to pass via email or from client-side code to\n backend code. The token is only available when `status` is \"PENDING\"." },
            { "name": "user",
              "type": "wix-users.User",
              "docs": "The user that has been registered.",
              "srcDocs": "The user that has been registered." } ],
        "labels":
          [ "new",
            "changed",
            "removed" ] },
      { "name": "TransactionalEmailOptions",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 420 } ],
        "docs":
          { "summary": "An object used when sending a Transactional Email.",
            "links":
              [ "[emailUser( )](#emailUser)" ],
            "examples":
              [ { "title": "Send a transactional email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Transactional email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "An object used when sending a Transactional Email.",
            "links":
              [ "[emailUser( )](#emailUser)" ],
            "examples":
              [ { "title": "Send a transactional email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Transactional email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] },
        "members":
          [ { "name": "variables",
              "type": "Object",
              "docs": "An object with `key:value` pairs where each\n `key` is a variable in the email template created in Transactional Emails and its\n corresponding `value` is the value to insert into the template in place of\n variable. The values must be strings.",
              "srcDocs": "An object with `key:value` pairs where each\n `key` is a variable in the email template created in Transactional Emails and its\n corresponding `value` is the value to insert into the template in place of\n variable." } ],
        "labels":
          [ "new",
            "changed",
            "removed" ] },
      { "name": "TriggeredEmailOptions",
        "locations":
          [ { "filename": "users.es6",
              "lineno": 462 } ],
        "docs":
          { "summary": "An object used when sending a Triggered Email.",
            "links":
              [ "[emailUser( )](#emailUser)" ],
            "examples":
              [ { "title": "Send a Triggered Email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Triggered email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] },
        "srcDocs":
          { "summary": "An object used when sending a Triggered Email.",
            "links":
              [ "[emailUser( )](#emailUser)" ],
            "examples":
              [ { "title": "Send a Triggered Email to the currently logged-in member",
                  "body":
                    [ "import wixUsers from 'wix-users';",
                      "",
                      "// ...",
                      "",
                      "let userId = wixUsers.currentUser.id;",
                      "let value1 = // value for variable1",
                      "",
                      "wixUsers.emailUser(\"myEmail\", userId, {",
                      "    \"variables\": {",
                      "      \"variable1\": value1,",
                      "      \"variable2\": \"value for variable2\"",
                      "    }",
                      "  } )",
                      "  .then( () => {",
                      "    console.log(\"Triggered email sent\");",
                      "  } )",
                      "  .catch( (err) => {",
                      "    console.log(err);",
                      "  } );" ] } ] },
        "members":
          [ { "name": "variables",
              "type": "Object",
              "docs": "An object with `key:value` pairs where each\n `key` is a variable in the email template created in Triggered Emails and its\n corresponding `value` is the value to insert into the template in place of\n variable. The values must be strings.",
              "srcDocs": "An object with `key:value` pairs where each\n `key` is a variable in the email template created in Triggered Emails and its\n corresponding `value` is the value to insert into the template in place of\n variable. The values must be strings." } ],
        "labels":
          [ "new",
            "removed" ] } ] }